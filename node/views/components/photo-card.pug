mixin photoCard(p)
    a(
        href=`/photo/${p.id}`
        class="group relative block bg-white shadow rounded-lg overflow-hidden transition hover:shadow-lg"
    )
        img(
            src=p.thumb_base64
            alt=p.file_name
            class="w-full h-40 object-cover"
        )

        // filename overlay
        div(
            class="absolute bottom-0 left-0 right-0 bg-black/60 text-white text-xs px-2 py-1 opacity-0 group-hover:opacity-100 transition truncate"
        )
            | #{p.file_name}

        div(
          class="absolute top-2 right-2 flex gap-1 group/delete"
        )
          input(
            type="checkbox"
            id=`confirm-${p.id}`
            class="peer hidden"
          )

          label(
            for=`confirm-${p.id}`
            class="peer-checked:hidden bg-red-600 text-white text-xs px-2 py-1 rounded shadow hover:bg-red-700 cursor-pointer opacity-0 group-hover:opacity-100 transition"
          )
            | DELETE

          form(
            method="POST"
            action=`/photo/${p.id}/delete`
            class="hidden peer-checked:block"
          )
            button(
              type="submit"
              class="bg-red-800 text-white text-xs px-2 py-1 rounded shadow hover:bg-red-900"
            )
              | confirm?